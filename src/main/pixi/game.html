<!DOCTYPE HTML>
<html>
<head>
<title>pixi.js example 1</title>
<style>
body {
	margin: 0;
	padding: 0;
	background-color: #000000;
}
</style>
<script src="resources/pixi.js"></script>
<script src="js/keypress.js"></script>
<script src="js/actor.js"></script>
</head>
<body>
	<script>

	// create an new instance of a pixi stage
	var stage = new PIXI.Stage(0x66FF99);

	// create a renderer instance.
	// TEST on some machines, this will create a WebGLRender, but the bunny will not be drawn
//	var renderer = PIXI.autoDetectRenderer(400, 300);
	var renderer = new PIXI.CanvasRenderer(400, 300);

	// add the renderer view element to the DOM
	document.body.appendChild(renderer.view);
	
	var agent = createActor(stage, 200);
	var agent2 = createActor(stage, 250);
	
	keyLeft = function() { agent.setX(agent.getX() - 10); };
	keyRight = function() { agent.setX(agent.getX() + 10); };
	
	function animate() {
	    requestAnimFrame( animate );
	    
	    agent.update();
	    agent2.update();

	    // render the stage   
	    renderer.render(stage);
	}
	
	requestAnimFrame( animate );
	</script>
</body>
</html>
